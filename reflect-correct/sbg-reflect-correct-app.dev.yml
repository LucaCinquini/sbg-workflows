# run as cwltool  --debug http://awslbdockstorestack-lb-1429770210.us-west-2.elb.amazonaws.com:9998/api/ga4gh/trs/v2/tools/%23workflow%2Fdockstore.org%2Fmike-gangl%2FSBG-unity-reflect-correct/versions/4/PLAIN-CWL/descriptor/%2Fworkflow.cwl sbg-reflect-correct-app.dev.yml
{
  stage_in: {
                # if the downloads will come from a DAAC (e.g. requiring EDL auth) set to DAAC. If the files will be in the venue S3 bucket, set to 'S3'. Otherwise set to 'HTTP' and require no auth.
                download_type: 'S3',

                # file path, url, or STAC Content
                stac_json: '{"type":"FeatureCollection","features":[{"type":"Feature","stac_version":"1.0.0","id":"urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001","properties":{"datetime":"2024-01-03T13:19:36Z","start_datetime":"2024-01-03T13:19:36Z","end_datetime":"2024-01-03T13:19:48Z","created":"2024-03-04T23:08:10.189899+00:00","updated":"2024-03-04T23:08:10.203265Z"},"geometry":null,"links":[{"rel":"root","href":"./catalog.json","type":"application/json"},{"rel":"parent","href":"./catalog.json","type":"application/json"}],"assets":{"SISTER_EMIT_L2A_RSRFL_20240103T131936_001.bin":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001.bin","title":"binary file","description":"","roles":["data"]},"SISTER_EMIT_L2A_RSRFL_20240103T131936_001.hdr":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001.hdr","title":"header file","description":"","roles":["data"]},"SISTER_EMIT_L2A_RSRFL_20240103T131936_001_UNC.bin":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001_UNC.bin","title":"binary file","description":"","roles":["data"]},"SISTER_EMIT_L2A_RSRFL_20240103T131936_001_UNC.hdr":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001_UNC.hdr","title":"header file","description":"","roles":["data"]},"SISTER_EMIT_L2A_RSRFL_20240103T131936_001.png":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001.png","title":"image/png file","description":"","roles":["browse"]},"SISTER_EMIT_L2A_RSRFL_20240103T131936_001.json":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1/urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1:SISTER_EMIT_L2A_RSRFL_20240103T131936_001/SISTER_EMIT_L2A_RSRFL_20240103T131936_001.json","title":"text/json file","description":"","roles":["metadata"]}},"stac_extensions":[],"collection":"urn:nasa:unity:unity:dev:SBG-L2A_RSRFL___1"},{"type":"Feature","stac_version":"1.0.0","id":"urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001","properties":{"datetime":"2024-01-03T13:19:36Z","start_datetime":"2024-01-03T13:19:36Z","end_datetime":"2024-01-03T13:19:48Z","created":"2024-03-04T22:50:20.726229+00:00","updated":"2024-03-04T22:50:20.726712Z"},"geometry":null,"links":[{"rel":"root","href":"./catalog.json","type":"application/json"},{"rel":"parent","href":"./catalog.json","type":"application/json"}],"assets":{"SISTER_EMIT_L1B_RDN_20240103T131936_001.bin":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001.bin","title":"binary file","description":"","roles":["data"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001.hdr":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001.hdr","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.bin":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.bin","title":"binary file","description":"","roles":["data"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.hdr":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.hdr","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.bin":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.bin","title":"binary file","description":"","roles":["data"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.hdr":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.hdr","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001.met.json":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001.met.json","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.met.json":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_LOC.met.json","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.met.json":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001_OBS.met.json","title":"None file","description":"","roles":["metadata"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001.png":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001.png","title":"image/png file","description":"","roles":["browse"]},"SISTER_EMIT_L1B_RDN_20240103T131936_001.json":{"href":"s3://sps-dev-ds-storage/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1/urn:nasa:unity:unity:dev:SBG-L1B_PRE___1:SISTER_EMIT_L1B_RDN_20240103T131936_001/SISTER_EMIT_L1B_RDN_20240103T131936_001.json","title":"text/json file","description":"","roles":["metadata"]}},"stac_extensions":[],"collection":"urn:nasa:unity:unity:dev:SBG-L1B_PRE___1"}]}',

                  # To enable downloading from CMR, we need to set "downloading_roles" to blank since it's not supported in CMR. We set keys to data and data1 since those are the keys that CMR uses for multiple data files.
                downloading_roles: 'data, metadata',

                  # the client id for generating a token
                unity_client_id: '40c2s0ulbhp9i0fmaph3su9jch',
                  # because we do not need to be authoirzed to 'GET' the earthdata stac, set this to 'NONE'. Set this to 'UNITY' if the stac_json is a unity entry
                unity_stac_auth: 'UNITY'
          },
parameters: {
                crid: '001',
                sensor: 'EMIT',
                temp_directory: '/tmp',
                output_collection: 'urn:nasa:unity:unity:dev:SBG-L2A_CORFL___1'
          },
stage_out: {
                collection_id: 'urn:nasa:unity:unity:dev:SBG-L2A_CORFL___1',
                staging_bucket: 'sps-dev-ds-storage'
          }
}
